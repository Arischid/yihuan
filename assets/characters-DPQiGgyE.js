import{d as I,r as u,q as V,b as $,s as S,u as q,c as r,a as t,F as d,g as v,m as _,p as g,T as y,o as i,h as f,n as w,t as D}from"./vendor-DzbBucpy.js";import{_ as F}from"./home-io8MMJS0.js";const R={class:"characters"},z={class:"character-section"},A={class:"character-videos"},B=["src","onCanplay"],E={class:"character-content"},L={class:"character-info"},T=["src","alt"],N=["src"],O={class:"character-switcher"},Y=["onClick"],G={class:"bullet-image-container"},M=["src","alt"],U=I({__name:"Characters",setup(j){const b=["https://yh.wanmei.com/images/cover240718/role_bullet1.png","https://yh.wanmei.com/images/cover240718/role_bullet2.png","https://yh.wanmei.com/images/cover240718/role_bullet3.png"],h=[{name:"薄荷",nameImage:"https://yh.wanmei.com/images/cover240718/role1_name.png",linesImage:"https://yh.wanmei.com/images/cover240718/role1_lines.png",video:"https://yhvmg.wmupd.com/webops/yh/yh_bgv_bohe.mp4",description:["异象管理局收容二组预备骨干，同事街坊人名词典，海特洛市平价美食活地图。","从总务处不苟言笑的财务姐姐到员工食堂的手抖大叔，从力小屋的寡言大将到DSD潮玩店的热情导购，都能上前大聊特聊……当然，是工作外的时间！","什么都可以漫天发散，没有她接不住的话题……大概。每期异象管理局收容安全考试的成绩除外。"]},{name:"角色2",nameImage:"https://yh.wanmei.com/images/cover240718/role2_name.png",linesImage:"https://yh.wanmei.com/images/cover240718/role2_lines.png",video:"https://yhvmg.wmupd.com/webops/yh/yh_bgv_nanali.mp4",description:["古董店「伊波恩」的一号台柱，桥间地最有名望的家族老大，海特洛市前途无量的异能者之星！","稳重威严，慷慨仁慈，睿智冷静。","曾参与「团三郎的复仇」「棉绒绒魔王对决」「V级暴怒GR云危机」等多起大型异象收容、泯除行动，以一招「柯林斯终极幽魂暗影裂空霆焰魔拳」扫荡四方，从无败绩！","（日结1000方斯一条，括号内的删除。）"]},{name:"角色3",nameImage:"https://yh.wanmei.com/images/cover240718/role3_name.png",linesImage:"https://yh.wanmei.com/images/cover240718/role3_lines.png",video:"https://yhvmg.wmupd.com/webops/yh/yh_bgv_zaowu.mp4",description:["「第一，不准鬼郎丸乱喂东西！","第二，不准低头看人！","第三，不准打开冰箱冷藏室第三格！」","早雾，古董店「伊波恩」冰箱便利贴规则制定者—— 虽然到现在，真正遵循的人……咳，屈指可数。","要是惹恼了早雾，记得提防她那把名叫鬼郎丸的异象巨锤，别靠得太近……","「什么东西被吞了，又或者被咬了屁股，伊波恩古董店概不赔付。」"]}],c=u(0),m=V(()=>h[c.value]),l=u([]),p=u(h.map(()=>({ready:!1}))),k=o=>{p.value[o].ready=!0},C=o=>{o!==c.value&&requestAnimationFrame(()=>{const a=l.value[c.value];a&&(a.pause(),a.currentTime=0),c.value=o;const s=l.value[o];s&&s.play().catch(()=>{console.warn("Video play failed:",o)})})};return $(()=>{const o=new IntersectionObserver(a=>{a.forEach(s=>{if(s.isIntersecting){const e=s.target,n=l.value.indexOf(e);n!==-1&&(p.value[n].ready=!0,n===c.value&&e.play().catch(console.warn))}})},{threshold:.1});l.value.forEach(a=>{a&&o.observe(a)}),S(()=>{o.disconnect()})}),q(c,(o,a)=>{o!==a&&requestAnimationFrame(()=>{var e,n;const s=document.querySelectorAll(".character-video");(e=s[a])==null||e.classList.remove("active"),(n=s[o])==null||n.classList.add("active")})},{flush:"post"}),(o,a)=>(i(),r("div",R,[t("section",z,[t("div",A,[(i(),r(d,null,v(h,(s,e)=>t("div",{key:e,class:f(["character-video",{active:c.value===e}])},[t("video",{ref_for:!0,ref_key:"videoRefs",ref:l,autoplay:"",loop:"",muted:"",playsinline:"",class:"background-video",src:s.video,onCanplay:n=>k(e)},null,40,B)],2)),64))]),a[0]||(a[0]=t("div",{class:"character-title"},[t("img",{src:"https://yh.wanmei.com/images/cover240718/role_character.png",alt:"角色介绍",class:"title-image"})],-1)),t("div",E,[t("div",L,[_(y,{name:"slide-fade",mode:"out-in"},{default:g(()=>[(i(),r("div",{class:"character-name",key:`name-${c.value}`},[t("img",{src:m.value.nameImage,alt:m.value.name,class:"name-image"},null,8,T),t("img",{src:m.value.linesImage,alt:"装饰线",class:"lines-image"},null,8,N)]))]),_:1}),_(y,{name:"slide-fade",mode:"out-in"},{default:g(()=>[(i(),r("div",{class:"character-description",key:`desc-${c.value}`},[(i(!0),r(d,null,v(m.value.description,(s,e)=>(i(),r("p",{key:e,style:w({animationDelay:`${e*.1}s`}),class:"description-line"},D(s),5))),128))]))]),_:1})]),t("div",O,[(i(),r(d,null,v(b,(s,e)=>t("button",{key:e,onClick:n=>C(e),class:f([{active:c.value===e},"bullet-btn"])},[t("div",G,[t("img",{src:s,alt:`切换到角色${e+1}`,class:"bullet-image",style:w({transform:c.value===e?"translateY(-50%)":"translateY(0)"})},null,12,M)])],10,Y)),64))])])])]))}}),K=F(U,[["__scopeId","data-v-90b705ed"]]);export{K as default};
